/* Reset */
* { box-sizing: border-box; margin:0; padding:0; }
html,body { height:100%; }
body {
  background: #000;
  font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  overflow:hidden;
}

/* page bg (black) */
#page-bg { position:fixed; inset:0; background:#000; z-index:-2; }

/* canvas container */
#canvas-container { position:relative; width:100%; height:100%; overflow:hidden; touch-action:none; }

/* canvas itself: transparent â€” the white world is drawn by script */
#pixelCanvas {
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  background:transparent;
  cursor: crosshair;
  image-rendering: pixelated;
  display:block;
}

/* ---------- Chat (glass-like) ---------- */
#chat-popup {
  position: fixed;
  right: 16px;
  bottom: 110px;
  width: 320px;
  max-height: 60vh;
  display:flex;
  flex-direction:column;
  background: rgba(28,28,28,0.82);
  backdrop-filter: blur(8px);
  border-radius: 12px;
  box-shadow: 0 12px 36px rgba(0,0,0,0.6);
  z-index: 40;
  transition: height 220ms ease;
  overflow: hidden;
}

#chat-header {
  padding: 10px 12px;
  text-align: center;
  font-weight: 700;
  color: #fff;
  background: rgba(255,255,255,0.03);
  cursor: pointer;
  user-select: none;
}

#chat-feed {
  padding: 10px;
  flex: 1;
  overflow-y: auto;
  color: #fff;
  font-size: 14px;
}

.chat-msg {
  background: rgba(255,255,255,0.05);
  padding: 8px 10px;
  margin-bottom: 8px;
  border-radius: 10px;
  word-break: break-word;
}

.chat-input {
  display:flex;
  gap:8px;
  padding:10px;
  border-top: 1px solid rgba(255,255,255,0.03);
  background: rgba(255,255,255,0.015);
}
.chat-input input {
  flex:1;
  padding:10px;
  border-radius:10px;
  border:none;
  background: rgba(0,0,0,0.45);
  color:#fff;
  font-size:14px;
}
.chat-input button {
  padding:8px 12px;
  border-radius:8px;
  border:none;
  background: rgba(255,255,255,0.06);
  color:#fff;
  cursor:pointer;
}

/* minimized */
#chat-popup.minimized { height:44px; max-height:44px; }
#chat-popup.minimized #chat-feed,
#chat-popup.minimized .chat-input { display:none; }

/* ---------- Bottom Bar: flat, centered ---------- */
#bottom-bar {
  position: fixed;
  left: 50%;
  transform: translateX(-50%);
  bottom: 20px;
  z-index: 35;
  display:flex;
  align-items:center;
  gap: 18px;
  padding: 10px 16px;
  min-width: 340px;
  max-width: 92%;
  background: rgba(28,28,28,0.78);
  backdrop-filter: blur(10px);
  border-radius: 14px;
  box-shadow: 0 12px 30px rgba(0,0,0,0.5);
}

/* palette container horizontal */
#palette-container { display:flex; gap:10px; align-items:center; }

/* palette row */
#palette { display:flex; gap:8px; align-items:center; }
.color-swatch {
  width:36px; height:36px; border-radius:8px; cursor:pointer;
  border:2px solid rgba(255,255,255,0.06);
  transition: transform 120ms ease, box-shadow 120ms ease;
}
.color-swatch:hover { transform: scale(1.06); }
.color-swatch.selected { box-shadow: 0 0 0 3px rgba(255,255,255,0.06) inset; }

/* more-colors button styling */
.tool-btn {
  border:none; background: rgba(255,255,255,0.03);
  color:#fff; padding:8px 12px; border-radius:10px; cursor:pointer; font-weight:700;
}
.tool-btn:hover { background: rgba(255,255,255,0.06); }

/* points display */
#middle-controls { display:flex; align-items:center; justify-content:center; min-width:72px; }
#points-display {
  padding:6px 10px; border-radius:10px; background: rgba(255,255,255,0.03); color:#0f0; font-weight:800;
}

/* right controls */
#right-controls { display:flex; gap:10px; align-items:center; }

/* ---------- More colors popup (anchored to center above bottom bar) ---------- */
.popup {
  position: fixed;
  left: 50%;
  transform: translateX(-50%);
  bottom: 78px;
  z-index: 45;
  background: rgba(18,18,18,0.98);
  padding: 12px;
  border-radius: 12px;
  box-shadow: 0 18px 40px rgba(0,0,0,0.6);
  width: min(720px, 92%);
  max-width: 720px;
}
.popup.hidden { display:none; }
.popup-header { color:#fff; font-weight:700; text-align:center; margin-bottom:10px; }

/* more-palette grid; numbers above each swatch */
.more-palette { display:grid; grid-template-columns: repeat(auto-fill, 44px); gap:8px; justify-content:center; align-items:center; }
.more-item { display:flex; flex-direction:column; align-items:center; gap:6px; }
.more-item .thumb { width:36px; height:36px; border-radius:8px; border:2px solid rgba(255,255,255,0.06); cursor:pointer; }
.more-item .label { color:#fff; font-size:12px; opacity:0.85; }

/* responsive: compact on mobile */
@media (max-width:640px) {
  #chat-popup { right: 10px; width:260px; bottom: 100px; }
  #bottom-bar { min-width:260px; padding: 10px; gap:10px; }
  .more-palette { grid-template-columns: repeat(auto-fill, 36px); gap:6px; }
}
